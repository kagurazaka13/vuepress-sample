# 例外処理が設計書に記載されていない時の話

## 前提
設計書を見てると機能の目的や要望など、機能に直結するものはしっかりと書かれているものの、じゃあ例外が発生した場合はどうするの？についてはうっかり忘れられている場合もある。  
設計書は正しい！書いていないのだからエラーは無い！と何も考えずに進めてしまうと、どうなってしまうだろうか。

## 実装
```
・２つの引数を受け取って割り算して下さい。
```
こんな設計書があった時、何も考えないで上記の内容を実装すると多分こんな感じになる。
```java
class Multiplication {
   void doubleMethod(int inNum1, int inNum2){
	   int result = num1 / num2;
	   return result;
   }
}
```
但しinNum2が0の場合、０で割り算をする事になるので<font color="green">ArithmeticException</font>になる。  
そこに気づいたとして、設計書には書いていないからって以下の書き方は駄目。
```java
class Multiplication {
   void doubleMethod(int inNum1, int inNum2){
	   try {
		   int result = num1 / num2;
		   return result;
	   } catch (ArithmeticException e) {
		   // inNum2が0だとエラーになる！
	   }
   }
```
せっかく例外が飛ばされているのに握りつぶされているので、どこで何が起きているのかわからなくなってしまう、勝手に握りつぶしたら駄目

## 修正
- 設計書に書いてなくて気になったなら設計者と話す
  - ２番目の引数が0だった場合どうすれば良いんですか？
  - こんなメッセージを返そうと思いますけどどうでしょうか？
  - 握りつぶして良いんですか？

質問した結果、設計書は以下の様になる。<sup>[1](#note1)</sup>
```
・２つの引数を受け取って割り算して下さい。
　２つ目の引数が0の時、以下のエラメッセージを返す。
　「２つ目の引数に0は入力できません。」
```

```java
class Multiplication {
   void doubleMethod(int inNum1, int inNum2){
	   if (inNum2 == 0) {
		   System.out.println("２つ目の引数に0は入力できません。");
		   return 0;
	   }
	   int result = num1 / num2;
	   return result;
   }
}
```
## まとめ
設計書に記載がないからと言ってエラーの事を考えなかったり、握りつぶしてしまったりしてしまうと、いざその場所で問題が発生した時に調査に凄く時間がかかってしまうのである。ましてや握りつぶしてしまったらエラー箇所を特定する事すら困難になる可能性がある。
- 例外処理の詳細、挙動が記載されていなかったら設計者に確認する
- 例外処理自体の記載がない場合、設計書を読む際は「何も起きないか？起きた場合の記載は？」を意識しておくと設計書のミスに気がつくことができる。

自分の実装したものがもしトラブルを起こした時、例外処理が適切かどうかで解決へ道のりは大きく変化するので、製造の際は注意して取り組みましょう。

---
<small id="note1">[1]:設計書は必ず修正してもらう事</small>
